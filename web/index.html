<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>IMU Calibrator</title>
        <link rel="icon" href="favicon.png">
        <script src="calibrator-lib.js"></script>
        <script src="calibrator.js"></script>
        <script src="jquery-3.5.1.min.js"></script>
        <script src="form-keeper.js"></script>
        <script src="web-app.js"></script>
        <link rel="stylesheet" href="web-app.css">
    </head>
    <body onload="WebApp.OnReady();">
        <div class="main content">
            <form id="main-form" method="POST" onchange="WebApp.OnChange();" onsubmit="return WebApp.OnSubmit();">
                <label for="magnitude"><em>Magnitude</em> - how big is the unit. If you are calibrating accelerometer where each measurement is supposed to be 9.81 m/s^2, type 9.81 here. If the measurements are in Gs, type 1.0 etc</label>
                <input type="number" name="magnitude" value="1.0">

                <label for="magnitude"><em>Raw data</em> - enter at least 18 different data points (the more, the better), where each data point has magnitude equal to the value entered above within some tolerance. Each line has to contain exactly 3 measurements for each axis and these measurements have to be divided by a space or a comma.</label>
                <textarea name="data" rows="32">
0.019930	-0.055027	1.025639
0.064221	-0.054910	1.023570
0.069940	-0.037264	1.023785
0.200568	-0.050498	1.007564
0.398891	-0.049893	0.950175
0.517729	-0.067715	0.892337
0.635474	-0.050049	0.813437
0.713027	-0.048761	0.749841
0.802233	-0.048234	0.652515
0.861476	-0.048292	0.573517
0.925951	-0.046789	0.455031
0.978089	-0.046067	0.327389
0.999580	-0.044506	0.243219
1.020837	-0.041480	0.035878
0.013605	-0.058092	1.026537
-0.024712	-0.058365	1.024410
-0.055144	-0.072536	1.021970
-0.156199	-0.057857	1.008989
-0.352043	-0.057701	0.954274
-0.471876	-0.053270	0.895539
-0.587864	-0.051513	0.821480
-0.663621	-0.050362	0.755229
-0.739086	-0.048663	0.680897
-0.807347	-0.045892	0.585717
-0.881211	-0.043608	0.457158
-0.929308	-0.040153	0.329439
-0.947813	-0.039138	0.248997
-0.967724	-0.033906	0.067324
0.032520	0.003436	-0.857123
0.080500	-0.018349	-0.933036
0.288291	0.004860	-0.902097
0.238495	-0.021296	-0.914512
0.395748	-0.017880	-0.864990
0.500805	0.040914	-0.817400
0.667037	-0.020301	-0.713807
0.721713	-0.032188	-0.662665
0.831630	-0.034394	-0.540021
0.880918	-0.034824	-0.466665
0.929679	-0.037264	-0.370763
0.984081	-0.039313	-0.230922
1.006256	-0.039957	-0.137948
1.020096	-0.042124	0.002108
0.033770	-0.025610	-0.934442
-0.024868	-0.023502	-0.932080
0.021492	-0.139178	-0.927376
-0.149933	-0.027660	-0.915761
-0.314370	-0.040114	-0.870299
-0.480680	-0.040641	-0.792688
-0.518139	-0.041519	-0.770259
-0.655774	-0.015909	-0.657609
-0.751676	-0.021940	-0.557335
-0.774202	0.019774	-0.525439
-0.797802	0.000234	-0.490557
-0.872251	-0.017060	-0.368869
-0.931826	-0.025239	-0.213334
-0.952088	-0.017568	-0.123972
-0.963878	0.040621	0.009975
0.017548	-0.054422	1.025991
0.018544	0.031486	1.021111
0.014191	0.121375	1.008833
0.009409	0.117881	1.009535
0.018154	0.340253	0.949472
0.022019	0.467875	0.889370
0.024966	0.584780	0.813242
0.021082	0.389775	0.929777
0.023619	0.583941	0.813418
0.023853	0.662587	0.753413
0.026899	0.758372	0.652456
0.029631	0.824349	0.568832
0.040406	0.885564	0.461199
0.029983	0.941020	0.335959
0.030139	0.971042	0.222665
0.030724	0.993548	0.073298
0.026001	-0.020145	-0.933973
0.024849	-0.047804	-0.934910
0.040484	-0.149035	-0.926126
0.024146	-0.198128	-0.920056
0.027562	-0.449194	-0.837916
0.017997	-0.513591	-0.814980
0.025942	-0.586264	-0.776076
0.020964	-0.679101	-0.713378
0.040309	-0.767975	-0.638812
0.017802	-0.860285	-0.533657
0.017197	-0.909808	-0.472306
0.015284	-0.965401	-0.376248
0.014679	-1.029953	-0.224207
0.014699	-1.055856	-0.124830
0.011868	-1.071804	0.006071
0.008159	-0.046770	1.026635
0.009662	-0.129769	1.023102
0.008413	-0.208396	1.013459
0.015753	-0.239862	1.009145
-0.004802	-0.450092	0.950702
0.009155	-0.507403	0.927786
0.007828	-0.566041	0.897393
0.008472	-0.688744	0.817673
-0.019325	-0.764891	0.758254
0.009018	-0.860188	0.656262
0.008979	-0.917420	0.582028
0.009897	-0.982637	0.466567
0.012415	-1.033701	0.337032
0.013410	-1.054724	0.254482
0.015148	-1.073522	0.047746
0.030412	-0.021901	-0.934540
0.063499	0.118994	-0.924487
0.044076	0.084736	-0.928781
0.033731	0.162406	-0.918396
0.021726	0.270274	-0.896105
0.039391	0.414019	-0.841585
0.046633	0.530612	-0.784001
0.049854	0.639495	-0.708459
0.050928	0.724973	-0.624620
0.037615	0.767624	-0.578397
0.036639	0.855757	-0.461453
0.036210	0.870826	-0.434222
0.035975	0.956500	-0.230219
0.035663	0.966611	-0.193580
0.033438	0.993744	-0.003162
0.016963	-1.073346	0.054617
0.065665	-1.072331	0.067891
0.088426	-1.071453	0.079954
0.198538	-1.059409	0.075620
0.254658	-1.047092	0.074449
0.314174	-1.031261	0.070077
0.373398	-1.009125	0.072263
0.497213	-0.954177	0.072556
0.608926	-0.881406	0.089206
0.692316	-0.809182	0.093403
0.800398	-0.684976	0.099591
0.865283	-0.598405	0.085127
0.918143	-0.497565	0.086903
0.979611	-0.335959	0.081047
1.002235	-0.243512	0.068379
1.021130	-0.042007	0.049659
0.029534	0.912072	0.040953
-0.009565	0.992982	0.060571
-0.047961	0.990581	0.072322
-0.138729	0.975980	0.073278
-0.263208	0.947969	0.058755
-0.354737	0.912540	0.087235
-0.453860	0.863975	0.100567
-0.554641	0.797490	0.107458
-0.618862	0.743790	0.110308
-0.745508	0.611679	0.101250
-0.806098	0.523839	0.098459
-0.874555	0.398891	0.087469
-0.921891	0.267600	0.084522
-0.954977	0.122644	0.084209
-0.967060	-0.026157	0.079388
0.039177	0.993724	0.037576
0.065431	0.992709	0.035116
0.075679	0.992748	0.034843
0.230316	0.970261	0.036268
0.305917	0.951854	0.059790
0.411989	0.912482	0.074117
0.509316	0.864365	0.085010
0.649957	0.764110	0.069862
0.730556	0.690696	0.079427
0.794503	0.619194	0.055534
0.851209	0.543164	0.074996
0.906470	0.450404	0.062757
0.983457	0.245366	0.069218
1.014084	0.076460	0.067129
1.021150	-0.046165	0.056061
0.011927	-0.990347	0.075074
-0.038005	-1.070984	0.093423
-0.056022	-1.069950	0.090807
-0.181887	-1.051464	0.075601
-0.339140	-1.001688	0.110483
-0.447496	-0.950351	0.107653
-0.578417	-0.859309	0.103846
-0.656243	-0.789857	0.115305
-0.738500	-0.702330	0.094106
-0.802370	-0.611269	0.087489
-0.865575	-0.497975	0.079173
-0.924467	-0.342537	0.070155
-0.954352	-0.211577	0.076694
-0.966318	-0.078236	0.089890
                </textarea>

                <input type="submit" value="Submit">
                <div id="status" class="status">Please click Submit to recalculate the matrices</div>
            </form>
            <textarea id="results" rows="13" readonly class="results">
            </textarea>
        </div>
        <div class="footer">
            <div class="content">
                Favicon: <a href="https://www.flaticon.com/free-icons/axis" title="axis icons">Axis icons created by th studio - Flaticon</a>
            </div>
        </div>
    </body>
</html>
